<!DOCTYPE html>
<html lang="en">	<!-- <html lang="zh-CN"> -->
<head>
	<!--This line will work only if your website is hosted under a graphics.cs.cmu.edu or imaging.cs.cmu.edu domain.-->
	<!-- <meta charset="utf-8" /> -->
	<script src="https://kit.fontawesome.com/3058f11e8e.js" crossorigin="anonymous"></script>
	<link rel="icon" href="index_files/favicon.png" type="image/png">
	<meta name="description" content="Your name">
	<meta name="keywords" content="Your keywords">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="index_files/style.css" rel="stylesheet" type="text/css">
	<title>Access Count</title>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BWTKZCT30R"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-BWTKZCT30R');
</script>

<body>
	<header>
		<h1>Project 1: Access Count</h1>
	</header>
	<main>
		<section id="other">
			<h2>Other content</h2>
			<p>Updated: August 18, 2025.</p>
		</section>

		<section id="count">
			<h2>Count</h2>
			<p>Page views(PV): &nbsp;&nbsp;<a id="pagePV">--</a></p>
			<p>Site visits(SV): &nbsp;&nbsp;<a id="sitePV">--</a></p>
			<div id="chart-container"><p>count</p></div>
			<p style="font-size:14px;color:gray">PS: Using Google Analytics counting. Data powered by Google Analytics 4</p>
		</section>
	</main>

	<footer>
		<hr>
		<ul id="personal">
			<li><a href="index.html"><i class="fa fa-envelope fa-sm fa-fw"></i>&nbsp;MainPage</a></li>
			<li><a href="project1.html"><i class="fa fa-brands fa-orcid fa-sm fa-fw"></i>&nbsp;Project1</a></li>
		</ul>
	</footer>

	<!-- Load Google Analytics Embed API -->
	<script src="https://apis.google.com/js/platform.js"></script>
	<script src="https://apis.google.com/js/client:platform.js"></script>
	<script src="https://ga-dev-tools.web.app/public/embed-api/components/view-selector2.js"></script>
	<script src="https://ga-dev-tools.web.app/public/embed-api/components/date-range-selector.js"></script>
	<script src="https://ga-dev-tools.web.app/public/embed-api/components/active-users.js"></script>

	<script>
		gapi.analytics.ready(function() {
			// 授权（这里需要替换成你的 OAuth Client ID）
			gapi.analytics.auth.authorize({
				container: 'embed-api-auth-container',
				clientid: '691447500712-rrl8pe6n26nbgn0nq8bblt0gqjndieu4.apps.googleusercontent.com'
			});
			// 选择 GA4 属性视图
			var viewSelector = new gapi.analytics.ViewSelector2({
				container: 'chart-container'
			})
			.execute();
			// 绘制折线图：每天 PV
			var timeline = new gapi.analytics.googleCharts.DataChart({
				query: {
					metrics: 'ga:pageviews',
					dimensions: 'ga:date',
					'start-date': '30daysAgo',
					'end-date': 'today'
				},
				chart: {
					container: 'chart-container',
					type: 'LINE',
					options: {
						width: '100%'
					}
				}
			});
			viewSelector.on('viewChange', function(data) {
				timeline.set({query: {ids: data.ids}}).execute();
			});
		});
	</script>
</body>
</html>

